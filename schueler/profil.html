{% extends "base.html" %}
{% block title %}Profil: {{ schueler.vorname }}{% endblock %}

{% block content %}
{% set farbe = 'rose-100' if schueler.geschlecht == 'weiblich' else 'blue-100' %}
{% set textfarbe = 'rose-600' if schueler.geschlecht == 'weiblich' else 'blue-600' %}

<div class="max-w-4xl mx-auto mt-6 bg-{{ farbe }} rounded-xl shadow-xl p-6 border-l-4 border-{{ textfarbe }}">
    <h2 class="text-3xl font-bold text-{{ textfarbe }} mb-4">🌟 {{ schueler.vorname }}’s Fahrprofil</h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-900">
        <p><strong>📅 Alter:</strong> {{ alter }} Jahre</p>
        <p><strong>🚻 Geschlecht:</strong> {{ schueler.geschlecht|capitalize }}</p>
        <p><strong>📱 Telefon:</strong> +49 {{ schueler.telefon }}</p>
        <p><strong>📧 Email:</strong> {{ schueler.email }}</p>
        <p><strong>🏠 Adresse:</strong> {{ schueler.strasse }}, {{ schueler.plz }} {{ schueler.ort }}</p>
        <p><strong>🚘 Klasse:</strong> {{ schueler.fahrerlaubnisklasse }}</p>
        <p><strong>👓 Sehhilfe:</strong> {{ 'Ja' if schueler.sehhilfe else 'Nein' }}</p>
        <p><strong>🆔 Anmeldecode:</strong> {{ schueler.anmeldecode }}</p>
        <p><strong>👀 Sehtest:</strong> {{ '✅' if schueler.sehtest else '❌' }}</p>
        <p><strong>⛑️ Erste-Hilfe:</strong> {{ '✅' if schueler.erste_hilfe_kurs else '❌' }}</p>
    </div>

    {% if fahrten %}
    <div class="mt-6">
        <h3 class="text-xl font-semibold text-{{ textfarbe }}">📋 Fahrstundenverlauf</h3>
        <ul class="mt-2 divide-y divide-gray-300">
            {% for f in fahrten %}
            <li class="py-2">
                <span class="font-semibold">{{ f.datum.strftime('%d.%m.%Y') }}</span> – 
                {{ f.uhrzeit.strftime('%H:%M') }} Uhr – 
                <span class="italic">{{ f.typ.bezeichnung }}</span> ({{ f.dauer_minuten }} Min) – 
                <span class="text-sm text-gray-700">Bezahlt: {{ f.bezahlt }}</span>
            </li>
            {% endfor %}
        </ul>
    </div>
    {% else %}
    <p class="mt-6 text-gray-500 italic">🚧 Noch keine Fahrstunden eingetragen.</p>
    {% endif %}

    {% if naechste_fahrt %}
    <div class="mt-6 p-4 bg-green-100 border-l-4 border-green-600 rounded-md shadow-inner">
        <strong>🗓️ Nächste Fahrstunde:</strong><br>
        {{ naechste_fahrt.datum.strftime('%d.%m.%Y') }} um {{ naechste_fahrt.uhrzeit.strftime('%H:%M') }} – 
        <em>{{ naechste_fahrt.typ.bezeichnung }}</em>
    </div>
    {% endif %}
</div>
{% endblock %}
